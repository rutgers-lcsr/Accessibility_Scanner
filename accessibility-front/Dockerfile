FROM node:latest

COPY . /app
WORKDIR /app
RUN npm install


ENV NEXT_PUBLIC_BASE_URL=NEXT_PUBLIC_BASE_URL
ENV NEXT_PUBLIC_CAS_URL=NEXT_PUBLIC_CAS_URL
ENV JWT_SECRET_KEY=JWT_SECRET_KEY
ENV NEXT_CAS_CLIENT_SECRET=NEXT_CAS_CLIENT_SECRET
ENV NEXT_CAS_CLIENT_SAML_TOLERANCE=180000

RUN npm run build --turbopack

CMD [ "npm", "start" ]